(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fd6c55c"],{"498a":function(t,e,n){"use strict";var a=n("23e7"),o=n("58a8").trim,i=n("c8d2");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),o=n("5899"),i="["+o+"]",r=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},6514:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wbs-content"},[n("div",{staticClass:"wbs-main"},[t.is_loaded?n("table",{staticClass:"wbs-form-table"},[n("tr",[n("th",{staticClass:"row w8em"},[t._v("保留周期 "),n("wbs-tooltip",{attrs:{"data-msg":t.tooltips.log_keep}})],1),n("td",[n("div",{staticClass:"selector-bar"},t._l(t.log_keep,(function(e,a){return n("label",{key:a},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.log_keep,expression:"opt.log_keep"}],attrs:{type:"radio"},domProps:{value:a,checked:t._q(t.opt.log_keep,a)},on:{change:function(e){return t.$set(t.opt,"log_keep",a)}}}),n("span",[t._v(t._s(e))])])})),0)])]),n("tr",[n("th",{staticClass:"row"},[t._v("备份与删除 "),n("wbs-tooltip",{attrs:{"data-msg":t.tooltips.del_backup}})],1),n("td",[n("label",[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.down_log()}}},[t._v("日志备份")])]),n("label",{staticClass:"ml"},[n("button",{staticClass:"button ",attrs:{type:"button"},on:{click:function(e){return t.del_spider_log()}}},[t._v("日志删除")])])])]),n("tr",[n("th",{staticClass:"row"},[t._v("自定义蜘蛛 "),n("wbs-tooltip",{staticClass:"on-top",attrs:{"data-msg":t.tooltips.custom_spider}})],1),n("td",[n("wbs-custom-spider",{attrs:{items:t.opt.user_define,mode:1,placeholder:"蜘蛛名称"},on:{"set-tags":function(e){t.opt.user_define=e}}})],1)])]):t._e()]),t.$cnf.is_pro?t._e():n("wbs-more-sources"),n("wbs-ctrl-bar",{on:{submit:t.update_data}})],1)},o=[],i=n("365c"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{class:t.mode?"wb-tags-mode-b":"wb-tags-ctrl"},[t.mode?n("div",{staticClass:"wb-tags-input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wbs-input wbs-input-short",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}}),n("a",{staticClass:"ml link",on:{click:t.wbTagPush}},[t._v("添加 +")])]):n("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wb-tag-input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}}),t.items.length?n("div",{staticClass:"tag-items"},t._l(t.items,(function(e,a){return n("div",{key:a,staticClass:"tag-item"},[n("span",{staticClass:"vam ib",domProps:{innerHTML:t._s(t.displayFormat(e))}}),n("a",{staticClass:"del",attrs:{"data-del-val":e},on:{click:function(e){return t.delItem(a)}}})])})),0):t._e()])},s=[],c=(n("c975"),n("a434"),n("a9e3"),n("ac1f"),n("5319"),n("498a"),{name:"wbsCustomSpider",props:{items:Array,mode:Number,placeholder:String},data:function(){return{cur_input:"",taglist:[],keycode:null}},template:"#wbs_tpl_custom_spider",created:function(){this.taglist=this.items?this.items:[]},methods:{wbTagInput:function(t){var e=this,n=t.keyCode;188===n&&(e.cur_input=e.cur_input.replace(/(^,)|(,$)/,"")),13===n&&(e.wbTagPush(),event.stopPropagation())},wbTagPush:function(t){var e=this;return""!=e.cur_input&&(e.taglist.indexOf(e.cur_input.trim())>-1?(wbui.toast("已存在"),e.cur_input="",!1):(e.taglist.push(e.cur_input),e.$emit("set-tags",e.taglist),e.cur_input="",!1))},delItem:function(t){var e=this;wbui.confirm("确认删除？",(function(){e.taglist.splice(t,1),e.$emit("set-tags",e.taglist),wbui.toast("已移除")}))},displayFormat:function(t){return t}}}),u=c,l=n("2877"),p=Object(l["a"])(u,r,s,!1,null,null,null),d=p.exports,f={name:"SettingLog",components:{"wbs-custom-spider":d},data:function(){var t=this;return{form_changed:0,is_loaded:0,is_pro:t.$cnf.is_pro,opt:{user_define:[],log_keep:""},log_keep:{1:"最近30天",3:"最近3个月",6:"最近6个月",12:"最近1年",120:"永久保留"},tooltips:{del_backup:"如历史日志体积过大，可以考虑备份与删除日志。",log_keep:"如蜘蛛日志过大导致数据库访问性能下降，建议选择保留周期为最近30天。",custom_spider:"可添加插件未记录的蜘蛛日志，请准确填写蜘蛛名称。"}}},created:function(){this.load_data()},methods:{down_log:function(){var t=this;window.open(ajaxurl+"?action="+t.$cnf.action.act+"&op=down_log","down_log")},del_spider_log:function(){var t=this;wbui.confirm("删除日志操作，将会永久性删除所有蜘蛛历史数据。请谨慎操作！",(function(){Object(i["b"])({action:t.$cnf.action.act,op:"clean_log"}).then((function(t){wbui.toast("删除成功",(function(){location.reload()}))}))}))},load_data:function(){var t=this;t.log_loading=wbui.loading(),Object(i["a"])({action:t.$cnf.action.act,op:"get_setting"}).then((function(e){t.opt.user_define=e["data"]["opt"]["user_define"],t.opt.log_keep=e["data"]["opt"]["log_keep"],wbui.close(t.log_loading),t.is_loaded=1}))},update_data:function(t){var e=this,n={action:e.$cnf.action.act,op:"update_setting",opt:e.opt};Object(i["b"])(n).then((function(n){wbui.toast("设置保存成功"),e.form_changed=1,t&&t()}))}},watch:{opt:{handler:function(){this.form_changed++},deep:!0}},beforeRouteLeave:function(t,e,n){var a=this;a.form_changed>1?wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes:function(){return n(!1),a.update_data((function(){n()})),!1},no:function(){return n(),!1}}):n()}},_=f,g=Object(l["a"])(_,a,o,!1,null,null,null);e["default"]=g.exports},7156:function(t,e,n){var a=n("861d"),o=n("d2bb");t.exports=function(t,e,n){var i,r;return o&&"function"==typeof(i=e.constructor)&&i!==n&&a(r=i.prototype)&&r!==n.prototype&&o(t,r),t}},a434:function(t,e,n){"use strict";var a=n("23e7"),o=n("23cb"),i=n("a691"),r=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),p=n("ae40"),d=l("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),_=Math.max,g=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var n,a,l,p,d,f,h=s(this),v=r(h.length),w=o(t,v),k=arguments.length;if(0===k?n=a=0:1===k?(n=0,a=v-w):(n=k-2,a=g(_(i(e),0),v-w)),v+n-a>m)throw TypeError(b);for(l=c(h,a),p=0;p<a;p++)d=w+p,d in h&&u(l,p,h[d]);if(l.length=a,n<a){for(p=w;p<v-a;p++)d=p+a,f=p+n,d in h?h[f]=h[d]:delete h[f];for(p=v;p>v-a+n;p--)delete h[p-1]}else if(n>a)for(p=v-a;p>w;p--)d=p+a-1,f=p+n-1,d in h?h[f]=h[d]:delete h[f];for(p=0;p<n;p++)h[p+w]=arguments[p+2];return h.length=v-a+n,l}})},a9e3:function(t,e,n){"use strict";var a=n("83ab"),o=n("da84"),i=n("94ca"),r=n("6eeb"),s=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),p=n("d039"),d=n("7c73"),f=n("241c").f,_=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,b="Number",h=o[b],v=h.prototype,w=c(d(v))==b,k=function(t){var e,n,a,o,i,r,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(i=u.slice(2),r=i.length,s=0;s<r;s++)if(c=i.charCodeAt(s),c<48||c>o)return NaN;return parseInt(i,a)}return+u};if(i(b,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var C,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(w?p((function(){v.valueOf.call(n)})):c(n)!=b)?u(new h(k(e)),n,I):k(e)},y=a?f(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)s(h,C=y[N])&&!s(I,C)&&g(I,C,_(h,C));I.prototype=v,v.constructor=I,r(o,b,I)}},c8d2:function(t,e,n){var a=n("d039"),o=n("5899"),i="​᠎";t.exports=function(t){return a((function(){return!!o[t]()||i[t]()!=i||o[t].name!==t}))}}}]);